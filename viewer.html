

<!DOCTYPE html>
<html class="writer-html5" lang="en">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Datasets &amp; Visualisation &mdash; iDVC  documentation</title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=b86133f3" />
      <link rel="stylesheet" type="text/css" href="_static/css/theme.css?v=e59714d7" />

  
      <script src="_static/jquery.js?v=5d32c60e"></script>
      <script src="_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js?v=b3ba4146"></script>
      <script src="_static/doctools.js?v=888ff710"></script>
      <script src="_static/sphinx_highlight.js?v=4825356b"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="DVC Configuration Steps" href="dvc_steps.html" />
    <link rel="prev" title="Installation" href="installation.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="index.html" class="icon icon-home">
            iDVC
              <img src="_static/DVCIconSquare.png" class="logo" alt="Logo"/>
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="installation.html">Installation</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Datasets &amp; Visualisation</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#image-selection">Image Selection</a></li>
<li class="toctree-l2"><a class="reference internal" href="#image-viewers">Image Viewers</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#d-viewer-interactions">2D Viewer Interactions</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id1">3D Viewer Interactions</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#viewer-settings">Viewer Settings</a></li>
<li class="toctree-l2"><a class="reference internal" href="#downsampling-settings">Downsampling Settings</a></li>
<li class="toctree-l2"><a class="reference internal" href="#setting-the-number-of-threads-for-the-dvc-analysis">Setting the number of threads for the DVC analysis</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="dvc_steps.html">DVC Configuration Steps</a></li>
<li class="toctree-l1"><a class="reference internal" href="saving.html">Saving &amp; Exporting</a></li>
<li class="toctree-l1"><a class="reference internal" href="results.html">DVC Results</a></li>
<li class="toctree-l1"><a class="reference internal" href="executable.html">DVC Executable</a></li>
<li class="toctree-l1"><a class="reference internal" href="strain.html">Strain calculation</a></li>
<li class="toctree-l1"><a class="reference internal" href="example_datasets.html">Example datasets</a></li>
<li class="toctree-l1"><a class="reference internal" href="citations.html">Citations</a></li>
<li class="toctree-l1"><a class="reference internal" href="references.html">References</a></li>
<li class="toctree-l1"><a class="reference internal" href="contact.html">Mailing List</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">iDVC</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">Datasets &amp; Visualisation</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/viewer.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="datasets-visualisation">
<h1>Datasets &amp; Visualisation<a class="headerlink" href="#datasets-visualisation" title="Permalink to this heading"></a></h1>
<section id="image-selection">
<h2>Image Selection<a class="headerlink" href="#image-selection" title="Permalink to this heading"></a></h2>
<p>The app currently works with the following image types:</p>
<ul class="simple">
<li><p>raw</p></li>
<li><p>numpy (.npy)</p></li>
<li><p>metaimage (.mha or .mhd but only uncompressed mha files)</p></li>
<li><p>TIFF stacks</p></li>
</ul>
<p>You will need to select a reference and a correlate image. These must have the same dimensionality. Then click <strong>View Image</strong>.
If you have chosen a raw image file then you will be asked for some extra information about the file:</p>
<img alt="_images/raw_config_panel.png" src="_images/raw_config_panel.png" />
<p>It is assumed that the info is the same for both the reference and correlate image.
The image shown on the viewer will most likely be down-sampled (depending on the settings – see the <a class="reference internal" href="#viewer-settings">Viewer Settings</a> section), but the original, un-sampled image file will be used for running the DVC analysis.</p>
</section>
<section id="image-viewers">
<h2>Image Viewers<a class="headerlink" href="#image-viewers" title="Permalink to this heading"></a></h2>
<p>The app uses the <a class="reference external" href="https://github.com/TomographicImaging/CILViewer">CILViewer</a> for the 2D and 3D image display.
Both viewers show the reference image, and are linked, so will show the same orientation and slice number.
By default, the volume render is switched off on the 3D viewer,
but to toggle it on/off, click on the 3D viewer and press <strong>v</strong>.</p>
<p>To view all of the interactions for the viewers, click on one of the viewers and press <strong>h</strong> on your keyboard.
Note that the interactions for each viewer differ slightly, so check them for both the 2D and 3D viewer.
The interactions for the viewers are as follows
(correct as of version &gt;=24.1.0 of the CILViewer).</p>
<section id="d-viewer-interactions">
<h3>2D Viewer Interactions<a class="headerlink" href="#d-viewer-interactions" title="Permalink to this heading"></a></h3>
<p><strong>Mouse Interactions:</strong></p>
<ul class="simple">
<li><p>Slice: Mouse Scroll</p></li>
<li><p>Quick Slice: Shift + Mouse Scroll</p></li>
<li><p>Zoom: Shift + Right Mouse + Move Up/Down</p></li>
<li><p>Pan: Ctrl + Right Mouse + Move</p></li>
<li><p>Adjust Window: Alt+ Right Mouse + Move Up/Down</p></li>
<li><p>Adjust Level: Alt + Right Mouse + Move Left/Right</p></li>
</ul>
<p><strong>Keyboard Interactions:</strong></p>
<ul class="simple">
<li><p>h: This help</p></li>
<li><p>x: YZ Plane</p></li>
<li><p>y: XZ Plane</p></li>
<li><p>z: XY Plane</p></li>
<li><p>a: Whole image Auto Window/Level</p></li>
<li><p>w: Region around cursor Auto Window/Level</p></li>
<li><p>l: Line Profile at cursor</p></li>
<li><p>s: Save Current Image</p></li>
<li><p>i: toggle interpolation of slice</p></li>
</ul>
</section>
<section id="id1">
<h3>3D Viewer Interactions<a class="headerlink" href="#id1" title="Permalink to this heading"></a></h3>
<p><strong>Mouse Interactions:</strong></p>
<ul class="simple">
<li><p>Slice: Mouse Scroll</p></li>
<li><p>Zoom: Right Mouse + Move Up/Down</p></li>
<li><p>Pan: Middle Mouse Button + Move or Shift + Left Mouse + Move</p></li>
<li><p>Adjust Camera: Left Mouse + Move</p></li>
<li><p>Rotate: Ctrl + Left Mouse + Move</p></li>
</ul>
<p><strong>Keyboard Interactions:</strong></p>
<ul class="simple">
<li><p>h: Display this help</p></li>
<li><p>x: YZ Plane</p></li>
<li><p>y: XZ Plane</p></li>
<li><p>z: XY Plane</p></li>
<li><p>r: Save render to current_render.png</p></li>
<li><p>s: Toggle visibility of slice</p></li>
<li><p>v: Toggle visibility of volume render</p></li>
<li><p>c: Activates volume render clipping plane widget</p></li>
<li><p>a: Whole image Auto Window/Level</p></li>
</ul>
</section>
</section>
<section id="viewer-settings">
<span id="id2"></span><h2>Viewer Settings<a class="headerlink" href="#viewer-settings" title="Permalink to this heading"></a></h2>
<p>The viewer settings panel shows how much the image has been down-sampled:</p>
<img alt="_images/viewer_settings.png" src="_images/viewer_settings.png" />
<p>If it has been down-sampled, the image will be interpolated, but you can turn this off by clicking on the viewer and then pressing <strong>i</strong>.
It shows the <strong>Loaded Image Size</strong> and the <strong>Displayed Image Size</strong>.
The displayed image size is the size of the image shown on the viewer, in this case it has been down-sampled.
The <strong>Loaded Image Size</strong> is the original size of your chosen image.
You can choose to display the viewer coordinates in the loaded image or the down-sampled image.
This will change how the slices and coordinates are labelled in the corner annotation of the 2D viewer.
If the image has not been down-sampled then it will only display the <strong>Loaded Image Size</strong> which is the size of the image you selected.</p>
</section>
<section id="downsampling-settings">
<h2>Downsampling Settings<a class="headerlink" href="#downsampling-settings" title="Permalink to this heading"></a></h2>
<p>Under File-&gt;Settings you can set the maximum down-sampled size of the image, which limits how heavily the image is down-sampled. The settings appear as below:</p>
<img alt="_images/idvc_settings_panel.png" src="_images/idvc_settings_panel.png" />
<p>For the volume render on the 3D viewer, it is recommended to use GPU volume rendering, otherwise the render will be very slow. You will need to set the memory of your GPU for this.
If the memory of your GPU is lower than the maximum down-sampling size you have set, then it will be the size of your GPU that dictates how much the image will be down-sampled if you choose to use the GPU for volume rendering.
You will have to click <strong>View Image</strong> on the Select Image panel to update the down-sampling of the image once you have saved the new settings.</p>
</section>
<section id="setting-the-number-of-threads-for-the-dvc-analysis">
<h2>Setting the number of threads for the DVC analysis<a class="headerlink" href="#setting-the-number-of-threads-for-the-dvc-analysis" title="Permalink to this heading"></a></h2>
<p>Under File-&gt;Settings you can set the number of threads to be used during DVC analysis, with the “OMP threads” input.</p>
<p>We observed that you should <strong>not</strong> exceed half of the
number of cores of your machine (especially if hyperthreading is active). In any case, it seems that exceeding 16 threads leads to a slowdown of the analysis
probably due to issues accessing data (because of CPU’s cache memory and/or I/O).</p>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="installation.html" class="btn btn-neutral float-left" title="Installation" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="dvc_steps.html" class="btn btn-neutral float-right" title="DVC Configuration Steps" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2022, UKRI STFC.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>